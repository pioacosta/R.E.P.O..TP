<!DOCTYPE html>

<html lang="es">
  <head>
    <!--CABECERA: incluye Bootstrap, íconos y hoja de estilos personalizada-->
    <meta charset="utf-8" />
    <title>Ticket | R.E.P.O.</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link href="./assets/css/styles.css" rel="stylesheet" />
  </head>

  <body class="bg-light">
    <!--CUERPO: fondo general claro (bg-light), estructura principal del sitio-->
    <header class="bg-white shadow-sm position-fixed top-0 start-0 w-100 z-3">
      <div class="container py-2">
        <ul class="nav nav-tabs justify-content-between">
          <li class="nav-item">
            <a class="nav-link" href="./bienvenida.html">Bienvenida</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./inicio.html">Inicio</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./productos.html">Productos</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./carrito.html">Carrito</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./ticket.html">Ticket</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-danger" href="./admin.html">Admin</a>
          </li>
        </ul>
      </div>
    </header>
    <main class="container py-5 mt-5" >
      <h1 class="text-center text-primary mb-4 fw-bold">Ticket de compra</h1>
      <div
        class="card shadow-lg p-4 rounded-4"
        style="
          background: rgba(255, 255, 255, 0.85);
          backdrop-filter: blur(10px);
        "
      id = "ticket">
        <p class="mb-2 fs-5">
          <strong> Cliente:</strong> <span id="clienteNombre">Juan Pérez</span>
        </p>
        <p class="mb-4 fs-5">
          <strong> Fecha:</strong> <span id="fechaCompra">14/06/2025</span>
        </p>
        <div id="detalleProductos">
          <h5 class="mb-3">Productos comprados</h5>
          <div class="table-responsive">
            <table
              class="table table-hover align-middle border rounded-3 overflow-hidden"
            >
              <thead class="table-light">
                <tr>
                  <th>Producto</th>
                  <th>Cant.</th>
                  <th>Precio</th>
                  <th>Subtotal</th>
                </tr>
              </thead>
              <tbody id="tablaProductos">
                <!-- JavaScript insertará las filas -->
              </tbody>
            </table>
          </div>
          <div class="text-end mt-3">
            <h5 class="fw-bold text-success">
              Total: $<span id="totalCompra">0</span>
            </h5>
          </div>
        </div>
      </div>

      <div class="text-center mt-4">
        <div class="text-center mt-4">
            <button id="downloadPdfBtn" class="btn btn-outline-light px-4 py-2 rounded-pill shadow-sm">
                <i class="fas fa-file-pdf me-2 text-danger"></i> Descargar Ticket en PDF
            </button>
        </div>
        <button
          class="btn btn-danger px-4 py-2 rounded-3"
          onclick="reiniciar()"
        >
          Salir
        </button>
      </div>
    </main>
    <script>
      function reiniciar() {
        sessionStorage.clear();
        window.location.href = "./inicio.html";
      }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="./js/ticket.js"></script>


  </body>
</html>
