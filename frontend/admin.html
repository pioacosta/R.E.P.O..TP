<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <!-- Tu hoja personalizada — DESPUÉS de Bootstrap -->
    <link href="./assets/css/admin.css" rel="stylesheet" />
    <title>Dashboard</title>
  </head>

  <body
    class="bg-light"
    style="
      background: url('./assets/img/admin.png') center / cover no-repeat;
      min-height: 100vh;
    "
  >
    <div class="container py-5">
      <div class="row justify-content-center">
        <!-- Login de admin -->
        <div class="col-12 col-md-6 mb-4" id="login-section">
          <div class="card shadow">
            <div class="card-body">
              <h5 class="card-title mb-3">Login Administrador</h5>
              <form id="loginForm">
                <div class="mb-3">
                  <label for="loginEmail" class="form-label">Email</label>
                  <input
                    type="email"
                    class="form-control"
                    id="loginEmail"
                    required
                  />
                </div>
                <div class="mb-3">
                  <label for="loginPassword" class="form-label"
                    >Contraseña</label
                  >
                  <input
                    type="password"
                    class="form-control"
                    id="loginPassword"
                    required
                  />
                </div>
                <button type="submit" class="btn btn-primary w-100 mb-2">
                  Ingresar
                </button>
              </form>

              <!-- BOTÓN SALIR -->
              <button
                type="button"
                class="btn btn-outline-danger w-100"
                onclick="window.location.href='./inicio.html'"
              >
                <i class="bi bi-arrow-left me-2"></i>Salir
              </button>

              <!-- MENSAJE DE ERROR -->
              <div
                id="loginError"
                class="text-danger mt-2"
                style="display: none"
              ></div>
            </div>
          </div>
        </div>

        <!-- Formulario de productos -->
        <div class="col-12 col-md-10 col-lg-8">
          <button
            id="logoutBtn"
            class="btn btn-danger logout-fixed d-none"
            onclick="logoutAdmin()"
          >
            <i class="bi bi-box-arrow-right me-1"></i> Cerrar sesión
          </button>

          <form
            class="row g-3 needs-validation"
            novalidate
            enctype="multipart/form-data"
            id="productForm"
          >
            <!-- Nombre -->
            <div class="col-12 position-relative">
              <label for="nombre" class="form-label">Nombre</label>
              <input
                type="text"
                class="form-control"
                id="nombre"
                name="nombre"
                required
              />
              <div class="invalid-tooltip">El nombre es requerido.</div>
            </div>
            <!-- Descripción -->
            <div class="col-12 position-relative">
              <label for="descripcion" class="form-label">Descripción</label>
              <textarea
                class="form-control"
                id="descripcion"
                name="descripcion"
                rows="3"
                required
              ></textarea>
              <div class="invalid-tooltip">La descripción es requerida.</div>
            </div>
            <!-- Precio -->
            <div class="col-12 col-sm-6 position-relative">
              <label for="precio" class="form-label">Precio</label>
              <input
                type="number"
                class="form-control"
                id="precio"
                name="precio"
                min="0"
                step="0.01"
                required
              />
              <div class="invalid-tooltip">
                Por favor, ingrese un precio válido.
              </div>
            </div>
            <!-- Imagen -->
            <div class="col-12 col-sm-6 position-relative">
              <label for="imagen" class="form-label">Imagen</label>
              <input
                type="file"
                class="form-control"
                id="imagen"
                name="imagen"
                accept="image/*"
                required
              />
              <div class="invalid-tooltip">Suba una imagen válida.</div>
            </div>
            <!-- Categoría -->
            <div class="col-12 col-sm-6 position-relative">
              <label for="categoria_id" class="form-label">Categoría</label>
              <select
                class="form-select"
                id="categoria_id"
                name="categoria_id"
                required
              >
                <option selected disabled value="">
                  Seleccione una categoría
                </option>
              </select>
              <div class="invalid-tooltip">
                Seleccione una categoría válida.
              </div>
            </div>
            <!-- Mensaje de feedback -->
            <div class="col-12">
              <div id="productMsg" class="alert d-none" role="alert"></div>
            </div>
            <!-- Botón -->
            <div class="col-12 text-center">
              <button class="btn btn-primary" type="submit">
                Agregar Producto
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script src="./js/login.js"></script>
    <script src="./js/admin.js"></script>
  </body>
</html>
